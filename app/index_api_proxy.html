<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <script>
    
        function sendPost() {

            var inputvalue = document.getElementById("myinputtext").value;
            var xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == XMLHttpRequest.DONE) {
                    if (xmlhttp.status == 200) {
                        document.getElementById("postresponse").textContent = xmlhttp.responseText;
                    } else if (xmlhttp.status == 400) {
                        alert('There was an error 400');
                    } else {
                        alert('something else other than 200 was returned :' + xmlhttp.status);
                    }
                }
            };

            xmlhttp.open("POST", "https://script.google.com/a/amindeed.com/macros/s/AKfy................fJ-ADmA/exec", true);
            xmlhttp.setRequestHeader('Content-Type', 'text/plain;charset=utf-8');
            xmlhttp.send(encodeURI('testPty=' + inputvalue));
        }
    
    </script>
  </head>
  <body>
    <h1>API Proxy</h1>
    <input id='myinputtext' type='text'>
    <input type='button' value='Send' onclick='sendPost();'><br /><br />
    <strong>POST response : </strong><span id='postresponse'></span>
  </body>
</html>


